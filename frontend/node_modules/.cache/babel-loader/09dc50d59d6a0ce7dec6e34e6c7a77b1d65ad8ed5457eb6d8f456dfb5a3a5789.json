{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\USER\\\\Desktop\\\\linkedin\\\\frontend\\\\src\\\\pages\\\\Feed.jsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from \"react\";\nimport axios from \"axios\";\nimport { motion, AnimatePresence } from \"framer-motion\";\nimport Loader from \"../components/Loader\";\n\n// ENDPOINT y recursos\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ENDPOINT = \"http://localhost:8081/api\";\nconst DEFAULT_AVATAR = \"https://ui-avatars.com/api/?name=Sin+Foto&background=random\";\n\n// Utilidades\nconst getToken = () => localStorage.getItem(\"token\");\n\n// Funciones API\nconst fetchUserProfile = async () => {\n  const token = getToken();\n  if (!token) throw new Error(\"No token\");\n  const res = await axios.get(`${ENDPOINT}/auth/me`, {\n    headers: {\n      Authorization: \"Bearer \" + token\n    }\n  });\n  return res.data;\n};\nconst fetchFeed = async (page = 1, perPage = 10) => {\n  const token = getToken();\n  const res = await axios.get(`${ENDPOINT}/feed?page=${page}&perPage=${perPage}`, {\n    headers: {\n      Authorization: \"Bearer \" + token\n    }\n  });\n  return res.data;\n};\nconst postFeed = async (mensaje, usuario, imagen) => {\n  const token = getToken();\n  const form = new FormData();\n  form.append(\"username\", usuario.username);\n  form.append(\"avatar\", usuario.avatar);\n  form.append(\"mensaje\", mensaje);\n  form.append(\"tiempo\", new Date().toLocaleString(\"es-SV\"));\n  if (imagen) form.append(\"imagen\", imagen);\n  await axios.post(`${ENDPOINT}/feed`, form, {\n    headers: {\n      Authorization: \"Bearer \" + token,\n      \"Content-Type\": \"multipart/form-data\"\n    }\n  });\n};\nconst postComment = async (feedId, comment, user) => {\n  const token = getToken();\n  await axios.post(`${ENDPOINT}/feed/${feedId}/comment`, {\n    comment,\n    username: user.username,\n    avatar: user.avatar,\n    tiempo: new Date().toLocaleString(\"es-SV\")\n  }, {\n    headers: {\n      Authorization: \"Bearer \" + token\n    }\n  });\n};\nconst fetchComments = async feedId => {\n  const token = getToken();\n  const res = await axios.get(`${ENDPOINT}/feed/${feedId}/comments`, {\n    headers: {\n      Authorization: \"Bearer \" + token\n    }\n  });\n  return res.data;\n};\nconst likePost = async feedId => {\n  const token = getToken();\n  await axios.post(`${ENDPOINT}/feed/${feedId}/like`, {}, {\n    headers: {\n      Authorization: \"Bearer \" + token\n    }\n  });\n};\nconst fetchLikes = async feedId => {\n  const token = getToken();\n  const res = await axios.get(`${ENDPOINT}/feed/${feedId}/likes`, {\n    headers: {\n      Authorization: \"Bearer \" + token\n    }\n  });\n  return res.data;\n};\nconst Feed = () => {\n  _s();\n  // --- States ---\n  const [usuario, setUsuario] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [feed, setFeed] = useState([]);\n  const [page, setPage] = useState(1);\n  const [hasMore, setHasMore] = useState(true);\n  const [isFetchingMore, setIsFetchingMore] = useState(false);\n  const [dark, setDark] = useState(false);\n\n  // Composer\n  const [mensaje, setMensaje] = useState(\"\");\n  const [publicando, setPublicando] = useState(false);\n  const [imagen, setImagen] = useState(null);\n  const [errorMsg, setErrorMsg] = useState(\"\");\n  const [notify, setNotify] = useState(\"\");\n  const inputRef = useRef(null);\n\n  // Scroll\n  const feedRef = useRef(null);\n\n  // --- Comentarios modal ---\n  const [openComments, setOpenComments] = useState(null);\n  useEffect(() => {\n    setLoading(true);\n    fetchUserProfile().then(setUsuario).catch(() => window.location.href = \"/login\");\n    fetchFeed(1).then(res => {\n      var _res$data;\n      setFeed(res.data || res);\n      setHasMore(((_res$data = res.data) === null || _res$data === void 0 ? void 0 : _res$data.length) >= 10 || res.length >= 10);\n    }).finally(() => setLoading(false));\n  }, []);\n\n  // Scroll infinito\n  useEffect(() => {\n    const handleScroll = () => {\n      if (window.innerHeight + document.documentElement.scrollTop >= document.documentElement.offsetHeight - 350 && hasMore && !isFetchingMore) {\n        loadMoreFeed();\n      }\n    };\n    window.addEventListener(\"scroll\", handleScroll);\n    return () => window.removeEventListener(\"scroll\", handleScroll);\n  });\n  const loadMoreFeed = async () => {\n    setIsFetchingMore(true);\n    const nextPage = page + 1;\n    const res = await fetchFeed(nextPage);\n    setFeed(prev => [...prev, ...(res.data || res)]);\n    setPage(nextPage);\n    setHasMore((res.data || res).length >= 10);\n    setIsFetchingMore(false);\n  };\n\n  // Notificaciones\n  const showNotify = (msg, ok = true) => {\n    setNotify({\n      msg,\n      ok\n    });\n    setTimeout(() => setNotify(\"\"), 1800);\n  };\n\n  // Publicar mensaje\n  const handlePublicar = async () => {\n    if (!mensaje.trim()) {\n      setErrorMsg(\"No puedes publicar vacÃ­o.\");\n      inputRef.current.focus();\n      return;\n    }\n    setPublicando(true);\n    setErrorMsg(\"\");\n    try {\n      await postFeed(mensaje, usuario, imagen);\n      setMensaje(\"\");\n      setImagen(null);\n      showNotify(\"Â¡Publicado!\");\n      setPage(1);\n      const res = await fetchFeed(1);\n      setFeed(res.data || res);\n      setHasMore((res.data || res).length >= 10);\n    } catch (e) {\n      setErrorMsg(\"Error al publicar.\");\n      showNotify(\"Error al publicar.\", false);\n    } finally {\n      setPublicando(false);\n    }\n  };\n  if (loading || !usuario) return /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 180,\n    columnNumber: 35\n  }, this);\n\n  // ---- UI ----\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: dark ? \"bg-[#1c182a] min-h-screen\" : \"bg-[#f3f4fb] min-h-screen\",\n    children: [/*#__PURE__*/_jsxDEV(AnimatePresence, {\n      children: notify && /*#__PURE__*/_jsxDEV(motion.div, {\n        className: `fixed top-3 left-1/2 z-[80] -translate-x-1/2 px-8 py-3 rounded-2xl shadow-lg text-base font-bold ${notify.ok ? \"bg-green-500 text-white\" : \"bg-red-500 text-white\"}`,\n        initial: {\n          opacity: 0,\n          y: -32\n        },\n        animate: {\n          opacity: 1,\n          y: 0\n        },\n        exit: {\n          opacity: 0,\n          y: -32\n        },\n        children: notify.msg\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"header\", {\n      className: `sticky top-0 z-50 w-full py-5 px-4 flex items-center gap-4 bg-gradient-to-r ${dark ? \"from-violet-800 via-violet-700 to-violet-500\" : \"from-violet-100 via-white to-violet-50\"} shadow`,\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: `font-bold text-2xl ${dark ? \"text-white\" : \"text-violet-700\"}`,\n        children: \"\\uD83D\\uDCF0 Feed comunidad\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setDark(d => !d),\n        className: `ml-auto w-9 h-9 rounded-full flex items-center justify-center ${dark ? \"bg-white\" : \"bg-violet-200\"} transition-all shadow hover:scale-110`,\n        title: \"Modo claro/oscuro\",\n        children: dark ? /*#__PURE__*/_jsxDEV(\"svg\", {\n          className: \"w-6 h-6 text-violet-800\",\n          fill: \"none\",\n          stroke: \"currentColor\",\n          strokeWidth: \"2\",\n          viewBox: \"0 0 24 24\",\n          children: /*#__PURE__*/_jsxDEV(\"path\", {\n            d: \"M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 212,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"svg\", {\n          className: \"w-6 h-6 text-violet-600\",\n          fill: \"none\",\n          stroke: \"currentColor\",\n          strokeWidth: \"2\",\n          viewBox: \"0 0 24 24\",\n          children: [/*#__PURE__*/_jsxDEV(\"circle\", {\n            cx: \"12\",\n            cy: \"12\",\n            r: \"5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 216,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n            d: \"M12 1v2m0 18v2m8.66-13.66l-1.41 1.41M4.93 19.07l-1.41 1.41M21 12h-2M5 12H3m2.93-7.07l1.41 1.41M19.07 19.07l1.41 1.41\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 217,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"ml-4 text-red-500 hover:underline font-semibold\",\n        onClick: () => {\n          localStorage.clear();\n          window.location.href = \"/login\";\n        },\n        children: \"Salir\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"max-w-xl mx-auto mt-8 mb-3 p-4 bg-white/90 rounded-2xl shadow-md flex items-start gap-3\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: usuario.avatar ? `http://localhost:8081${usuario.avatar}` : DEFAULT_AVATAR,\n        className: \"w-12 h-12 rounded-full border-2 border-violet-200 object-cover\",\n        alt: \"avatar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-1\",\n        children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n          ref: inputRef,\n          value: mensaje,\n          onChange: e => setMensaje(e.target.value),\n          placeholder: \"\\xBFQu\\xE9 quieres compartir hoy?\",\n          className: `w-full px-4 py-2 rounded-xl border outline-none transition shadow-md ${dark ? \"bg-[#24243c] text-white border-violet-700\" : \"bg-white border-violet-200\"} focus:ring-2 focus:ring-violet-300 resize-none`,\n          rows: 2,\n          maxLength: 350,\n          disabled: publicando\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center gap-2 mt-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"text-xs text-violet-700 cursor-pointer\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"file\",\n              accept: \"image/*\",\n              className: \"hidden\",\n              onChange: e => setImagen(e.target.files[0]),\n              disabled: publicando\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 252,\n              columnNumber: 15\n            }, this), \"\\uD83D\\uDCCE Adjuntar imagen\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 251,\n            columnNumber: 13\n          }, this), imagen && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-xs text-green-700\",\n            children: imagen.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 262,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"px-4 py-1 bg-violet-500 text-white rounded-xl font-semibold shadow hover:bg-violet-700 transition\",\n            disabled: publicando,\n            onClick: handlePublicar,\n            children: publicando ? \"Publicando...\" : \"Publicar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 264,\n            columnNumber: 13\n          }, this), errorMsg && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-red-500 text-xs\",\n            children: errorMsg\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 271,\n            columnNumber: 26\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 250,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      ref: feedRef,\n      className: \"max-w-2xl mx-auto\",\n      children: [/*#__PURE__*/_jsxDEV(AnimatePresence, {\n        children: [feed.length === 0 && /*#__PURE__*/_jsxDEV(motion.div, {\n          initial: {\n            opacity: 0,\n            y: 12\n          },\n          animate: {\n            opacity: 1,\n            y: 0\n          },\n          exit: {\n            opacity: 0,\n            y: 12\n          },\n          className: \"text-center py-12 text-gray-400 font-semibold\",\n          children: \"No hay publicaciones a\\xFAn. \\xA1S\\xE9 el primero en compartir algo!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 280,\n          columnNumber: 13\n        }, this), feed.map((item, i) => /*#__PURE__*/_jsxDEV(FeedItem, {\n          item: item,\n          dark: dark,\n          usuario: usuario,\n          onComment: () => setOpenComments(item.id),\n          onNotify: showNotify\n        }, item.id || i, false, {\n          fileName: _jsxFileName,\n          lineNumber: 290,\n          columnNumber: 13\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 278,\n        columnNumber: 9\n      }, this), isFetchingMore && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-center py-4\",\n        children: /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 302,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 301,\n        columnNumber: 11\n      }, this), !hasMore && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center text-gray-400 text-xs py-5\",\n        children: \"No hay m\\xE1s publicaciones.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 306,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 277,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(AnimatePresence, {\n      children: openComments && /*#__PURE__*/_jsxDEV(CommentModal, {\n        feedId: openComments,\n        onClose: () => setOpenComments(null),\n        usuario: usuario,\n        dark: dark,\n        onNotify: showNotify\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 313,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 311,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"nav\", {\n      className: `fixed bottom-0 left-0 w-full z-40 shadow-lg ${dark ? \"bg-[#23243a] border-t border-violet-900\" : \"bg-white\"}`,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-between max-w-2xl mx-auto px-2 py-1\",\n        children: [{\n          name: \"Inicio\",\n          icon: \"ðŸ \",\n          path: \"/inicio\"\n        }, {\n          name: \"Feed\",\n          icon: \"ðŸ“°\",\n          path: \"/feed\"\n        }, {\n          name: \"Portafolio\",\n          icon: \"ðŸ’¼\",\n          path: \"/portafolio\"\n        }, {\n          name: \"Mensajes\",\n          icon: \"ðŸ’¬\",\n          path: \"/mensajes\"\n        }, {\n          name: \"Perfil\",\n          icon: \"ðŸ‘¤\",\n          path: \"/perfil\"\n        }].map(l => /*#__PURE__*/_jsxDEV(\"a\", {\n          href: l.path,\n          className: \"flex flex-col items-center justify-center flex-1 py-2 hover:bg-violet-50 transition rounded-xl\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-xl\",\n            children: l.icon\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 338,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: `text-xs ${dark ? \"text-white\" : \"text-violet-700\"}`,\n            children: l.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 339,\n            columnNumber: 15\n          }, this)]\n        }, l.name, true, {\n          fileName: _jsxFileName,\n          lineNumber: 333,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 325,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 324,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 184,\n    columnNumber: 5\n  }, this);\n};\n\n// ------ COMPONENTES SECUNDARIOS ------\n_s(Feed, \"dYL+d9B8Eq8l6Nn2ZEUMurTk/ec=\");\n_c = Feed;\nfunction FeedItem({\n  item,\n  dark,\n  usuario,\n  onComment,\n  onNotify\n}) {\n  _s2();\n  const [likes, setLikes] = useState(item.likes || 0);\n  const [liked, setLiked] = useState(false);\n  const [loadingLikes, setLoadingLikes] = useState(false);\n  useEffect(() => {\n    fetchLikes(item.id).then(l => setLikes(l.count || l.length || 0));\n    // Opcional: determina si el usuario ya dio like (requiere backend)\n  }, [item.id]);\n  const handleLike = async () => {\n    setLoadingLikes(true);\n    try {\n      await likePost(item.id);\n      setLikes(l => l + 1);\n      setLiked(true);\n      onNotify(\"Â¡Te gustÃ³ la publicaciÃ³n!\");\n    } catch {\n      onNotify(\"Error al dar like\", false);\n    } finally {\n      setLoadingLikes(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(motion.div, {\n    initial: {\n      opacity: 0,\n      scale: 0.97,\n      y: 16\n    },\n    animate: {\n      opacity: 1,\n      scale: 1,\n      y: 0\n    },\n    exit: {\n      opacity: 0,\n      scale: 0.97,\n      y: 16\n    },\n    transition: {\n      duration: 0.17\n    },\n    className: `bg-white/90 rounded-2xl shadow-md p-4 flex gap-4 items-start mb-5 border border-violet-50 relative hover:shadow-lg transition`,\n    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n      src: item.avatar ? `http://localhost:8081${item.avatar}` : DEFAULT_AVATAR,\n      className: \"w-10 h-10 rounded-full border-2 border-violet-200 object-cover\",\n      alt: \"avatar-feed\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 382,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex-1\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center gap-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: `font-bold text-violet-700 text-md ${dark ? \"text-violet-300\" : \"\"}`,\n          children: item.username\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 389,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"ml-2 text-xs text-gray-400\",\n          children: item.tiempo\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 392,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 388,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `text-sm mt-1 mb-2 ${dark ? \"text-violet-100\" : \"text-gray-700\"}`,\n        children: item.mensaje\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 394,\n        columnNumber: 9\n      }, this), item.imagen && /*#__PURE__*/_jsxDEV(\"img\", {\n        src: `http://localhost:8081${item.imagen}`,\n        alt: \"media\",\n        className: \"mt-2 mb-1 max-w-xs rounded-lg shadow-lg\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 398,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex gap-3 mt-2 text-xs\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: `px-2 py-1 rounded-lg font-semibold hover:bg-violet-200 transition ${liked ? \"bg-violet-500 text-white\" : \"bg-violet-100 text-violet-800\"}`,\n          onClick: handleLike,\n          disabled: loadingLikes || liked,\n          children: [liked ? \"Liked\" : \"Like\", \" \", likes > 0 && `Â· ${likes}`]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 405,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"px-2 py-1 rounded-lg bg-violet-100 text-violet-800 font-semibold hover:bg-violet-200\",\n          onClick: onComment,\n          children: \"Comentar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 414,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 404,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 387,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 375,\n    columnNumber: 5\n  }, this);\n}\n_s2(FeedItem, \"yvLamyLtS8mRyONEJIo6AKajzk0=\");\n_c2 = FeedItem;\nfunction CommentModal({\n  feedId,\n  onClose,\n  usuario,\n  dark,\n  onNotify\n}) {\n  _s3();\n  const [comments, setComments] = useState([]);\n  const [cargando, setCargando] = useState(true);\n  const [comment, setComment] = useState(\"\");\n  const [publicando, setPublicando] = useState(false);\n  useEffect(() => {\n    setCargando(true);\n    fetchComments(feedId).then(setComments).finally(() => setCargando(false));\n  }, [feedId]);\n  const handleComment = async () => {\n    if (!comment.trim()) return;\n    setPublicando(true);\n    try {\n      await postComment(feedId, comment, usuario);\n      setComment(\"\");\n      onNotify(\"Â¡Comentario publicado!\");\n      const c = await fetchComments(feedId);\n      setComments(c);\n    } catch {\n      onNotify(\"Error al comentar\", false);\n    } finally {\n      setPublicando(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(motion.div, {\n    className: \"fixed inset-0 z-50 flex items-center justify-center bg-black/40\",\n    initial: {\n      opacity: 0\n    },\n    animate: {\n      opacity: 1\n    },\n    exit: {\n      opacity: 0\n    },\n    children: /*#__PURE__*/_jsxDEV(motion.div, {\n      className: `max-w-lg w-full bg-white rounded-3xl shadow-xl p-7 relative ${dark ? \"bg-[#1a1430] text-white\" : \"\"}`,\n      initial: {\n        scale: 0.9,\n        y: 80\n      },\n      animate: {\n        scale: 1,\n        y: 0\n      },\n      exit: {\n        scale: 0.9,\n        y: 80\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"absolute top-3 right-4 text-violet-400 hover:text-violet-800 font-bold text-lg\",\n        onClick: onClose,\n        children: \"\\u2715\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 468,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"font-bold text-xl mb-3\",\n        children: \"Comentarios\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 472,\n        columnNumber: 9\n      }, this), cargando ? /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 474,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"max-h-72 overflow-y-auto flex flex-col gap-3\",\n        children: [comments.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-gray-400 text-sm\",\n          children: \"Sin comentarios a\\xFAn.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 478,\n          columnNumber: 15\n        }, this), comments.map((com, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-start gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: com.avatar ? `http://localhost:8081${com.avatar}` : DEFAULT_AVATAR,\n            className: \"w-9 h-9 rounded-full border-2 border-violet-200 object-cover\",\n            alt: \"avatar-com\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 482,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"font-bold text-violet-700 text-xs\",\n              children: com.username\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 488,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-xs\",\n              children: com.comment\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 489,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-[10px] text-gray-400\",\n              children: com.tiempo\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 490,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 487,\n            columnNumber: 17\n          }, this)]\n        }, com.id || i, true, {\n          fileName: _jsxFileName,\n          lineNumber: 481,\n          columnNumber: 15\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 476,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-3 flex gap-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          className: `flex-1 px-4 py-2 rounded-xl border ${dark ? \"bg-[#251f39] text-white border-violet-800\" : \"bg-white border-violet-200\"} outline-none shadow`,\n          placeholder: \"Escribe un comentario...\",\n          value: comment,\n          onChange: e => setComment(e.target.value),\n          disabled: publicando,\n          maxLength: 200,\n          onKeyDown: e => e.key === \"Enter\" && handleComment()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 497,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"px-3 py-1 rounded-xl bg-violet-500 text-white font-semibold shadow hover:bg-violet-700\",\n          disabled: publicando,\n          onClick: handleComment,\n          children: publicando ? \"...\" : \"Enviar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 507,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 496,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 462,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 456,\n    columnNumber: 5\n  }, this);\n}\n_s3(CommentModal, \"OkOqlOkd2Wgq5PyRnBmyI35VXfE=\");\n_c3 = CommentModal;\nexport default Feed;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"Feed\");\n$RefreshReg$(_c2, \"FeedItem\");\n$RefreshReg$(_c3, \"CommentModal\");","map":{"version":3,"names":["React","useState","useEffect","useRef","axios","motion","AnimatePresence","Loader","jsxDEV","_jsxDEV","ENDPOINT","DEFAULT_AVATAR","getToken","localStorage","getItem","fetchUserProfile","token","Error","res","get","headers","Authorization","data","fetchFeed","page","perPage","postFeed","mensaje","usuario","imagen","form","FormData","append","username","avatar","Date","toLocaleString","post","postComment","feedId","comment","user","tiempo","fetchComments","likePost","fetchLikes","Feed","_s","setUsuario","loading","setLoading","feed","setFeed","setPage","hasMore","setHasMore","isFetchingMore","setIsFetchingMore","dark","setDark","setMensaje","publicando","setPublicando","setImagen","errorMsg","setErrorMsg","notify","setNotify","inputRef","feedRef","openComments","setOpenComments","then","catch","window","location","href","_res$data","length","finally","handleScroll","innerHeight","document","documentElement","scrollTop","offsetHeight","loadMoreFeed","addEventListener","removeEventListener","nextPage","prev","showNotify","msg","ok","setTimeout","handlePublicar","trim","current","focus","e","fileName","_jsxFileName","lineNumber","columnNumber","className","children","div","initial","opacity","y","animate","exit","onClick","d","title","fill","stroke","strokeWidth","viewBox","cx","cy","r","clear","src","alt","ref","value","onChange","target","placeholder","rows","maxLength","disabled","type","accept","files","name","map","item","i","FeedItem","onComment","id","onNotify","CommentModal","onClose","icon","path","l","_c","_s2","likes","setLikes","liked","setLiked","loadingLikes","setLoadingLikes","count","handleLike","scale","transition","duration","_c2","_s3","comments","setComments","cargando","setCargando","setComment","handleComment","c","com","onKeyDown","key","_c3","$RefreshReg$"],"sources":["C:/Users/USER/Desktop/linkedin/frontend/src/pages/Feed.jsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\r\nimport axios from \"axios\";\r\nimport { motion, AnimatePresence } from \"framer-motion\";\r\nimport Loader from \"../components/Loader\";\r\n\r\n// ENDPOINT y recursos\r\nconst ENDPOINT = \"http://localhost:8081/api\";\r\nconst DEFAULT_AVATAR = \"https://ui-avatars.com/api/?name=Sin+Foto&background=random\";\r\n\r\n// Utilidades\r\nconst getToken = () => localStorage.getItem(\"token\");\r\n\r\n// Funciones API\r\nconst fetchUserProfile = async () => {\r\n  const token = getToken();\r\n  if (!token) throw new Error(\"No token\");\r\n  const res = await axios.get(`${ENDPOINT}/auth/me`, {\r\n    headers: { Authorization: \"Bearer \" + token },\r\n  });\r\n  return res.data;\r\n};\r\n\r\nconst fetchFeed = async (page = 1, perPage = 10) => {\r\n  const token = getToken();\r\n  const res = await axios.get(`${ENDPOINT}/feed?page=${page}&perPage=${perPage}`, {\r\n    headers: { Authorization: \"Bearer \" + token },\r\n  });\r\n  return res.data;\r\n};\r\n\r\nconst postFeed = async (mensaje, usuario, imagen) => {\r\n  const token = getToken();\r\n  const form = new FormData();\r\n  form.append(\"username\", usuario.username);\r\n  form.append(\"avatar\", usuario.avatar);\r\n  form.append(\"mensaje\", mensaje);\r\n  form.append(\"tiempo\", new Date().toLocaleString(\"es-SV\"));\r\n  if (imagen) form.append(\"imagen\", imagen);\r\n  await axios.post(`${ENDPOINT}/feed`, form, {\r\n    headers: {\r\n      Authorization: \"Bearer \" + token,\r\n      \"Content-Type\": \"multipart/form-data\",\r\n    },\r\n  });\r\n};\r\n\r\nconst postComment = async (feedId, comment, user) => {\r\n  const token = getToken();\r\n  await axios.post(\r\n    `${ENDPOINT}/feed/${feedId}/comment`,\r\n    {\r\n      comment,\r\n      username: user.username,\r\n      avatar: user.avatar,\r\n      tiempo: new Date().toLocaleString(\"es-SV\"),\r\n    },\r\n    { headers: { Authorization: \"Bearer \" + token } }\r\n  );\r\n};\r\n\r\nconst fetchComments = async (feedId) => {\r\n  const token = getToken();\r\n  const res = await axios.get(`${ENDPOINT}/feed/${feedId}/comments`, {\r\n    headers: { Authorization: \"Bearer \" + token },\r\n  });\r\n  return res.data;\r\n};\r\n\r\nconst likePost = async (feedId) => {\r\n  const token = getToken();\r\n  await axios.post(`${ENDPOINT}/feed/${feedId}/like`, {}, {\r\n    headers: { Authorization: \"Bearer \" + token },\r\n  });\r\n};\r\n\r\nconst fetchLikes = async (feedId) => {\r\n  const token = getToken();\r\n  const res = await axios.get(`${ENDPOINT}/feed/${feedId}/likes`, {\r\n    headers: { Authorization: \"Bearer \" + token },\r\n  });\r\n  return res.data;\r\n};\r\n\r\nconst Feed = () => {\r\n  // --- States ---\r\n  const [usuario, setUsuario] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [feed, setFeed] = useState([]);\r\n  const [page, setPage] = useState(1);\r\n  const [hasMore, setHasMore] = useState(true);\r\n  const [isFetchingMore, setIsFetchingMore] = useState(false);\r\n  const [dark, setDark] = useState(false);\r\n\r\n  // Composer\r\n  const [mensaje, setMensaje] = useState(\"\");\r\n  const [publicando, setPublicando] = useState(false);\r\n  const [imagen, setImagen] = useState(null);\r\n  const [errorMsg, setErrorMsg] = useState(\"\");\r\n  const [notify, setNotify] = useState(\"\");\r\n  const inputRef = useRef(null);\r\n\r\n  // Scroll\r\n  const feedRef = useRef(null);\r\n\r\n  // --- Comentarios modal ---\r\n  const [openComments, setOpenComments] = useState(null);\r\n\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    fetchUserProfile()\r\n      .then(setUsuario)\r\n      .catch(() => (window.location.href = \"/login\"));\r\n\r\n    fetchFeed(1)\r\n      .then(res => {\r\n        setFeed(res.data || res);\r\n        setHasMore(res.data?.length >= 10 || res.length >= 10);\r\n      })\r\n      .finally(() => setLoading(false));\r\n  }, []);\r\n\r\n  // Scroll infinito\r\n  useEffect(() => {\r\n    const handleScroll = () => {\r\n      if (\r\n        window.innerHeight + document.documentElement.scrollTop\r\n        >= document.documentElement.offsetHeight - 350 &&\r\n        hasMore &&\r\n        !isFetchingMore\r\n      ) {\r\n        loadMoreFeed();\r\n      }\r\n    };\r\n    window.addEventListener(\"scroll\", handleScroll);\r\n    return () => window.removeEventListener(\"scroll\", handleScroll);\r\n  });\r\n\r\n  const loadMoreFeed = async () => {\r\n    setIsFetchingMore(true);\r\n    const nextPage = page + 1;\r\n    const res = await fetchFeed(nextPage);\r\n    setFeed(prev => [...prev, ...(res.data || res)]);\r\n    setPage(nextPage);\r\n    setHasMore((res.data || res).length >= 10);\r\n    setIsFetchingMore(false);\r\n  };\r\n\r\n  // Notificaciones\r\n  const showNotify = (msg, ok = true) => {\r\n    setNotify({ msg, ok });\r\n    setTimeout(() => setNotify(\"\"), 1800);\r\n  };\r\n\r\n  // Publicar mensaje\r\n  const handlePublicar = async () => {\r\n    if (!mensaje.trim()) {\r\n      setErrorMsg(\"No puedes publicar vacÃ­o.\");\r\n      inputRef.current.focus();\r\n      return;\r\n    }\r\n    setPublicando(true);\r\n    setErrorMsg(\"\");\r\n    try {\r\n      await postFeed(mensaje, usuario, imagen);\r\n      setMensaje(\"\");\r\n      setImagen(null);\r\n      showNotify(\"Â¡Publicado!\");\r\n      setPage(1);\r\n      const res = await fetchFeed(1);\r\n      setFeed(res.data || res);\r\n      setHasMore((res.data || res).length >= 10);\r\n    } catch (e) {\r\n      setErrorMsg(\"Error al publicar.\");\r\n      showNotify(\"Error al publicar.\", false);\r\n    } finally {\r\n      setPublicando(false);\r\n    }\r\n  };\r\n\r\n  if (loading || !usuario) return <Loader />;\r\n\r\n  // ---- UI ----\r\n  return (\r\n    <div className={dark ? \"bg-[#1c182a] min-h-screen\" : \"bg-[#f3f4fb] min-h-screen\"}>\r\n\r\n      {/* NOTIFICACIÃ“N */}\r\n      <AnimatePresence>\r\n        {notify && (\r\n          <motion.div\r\n            className={`fixed top-3 left-1/2 z-[80] -translate-x-1/2 px-8 py-3 rounded-2xl shadow-lg text-base font-bold ${\r\n              notify.ok ? \"bg-green-500 text-white\" : \"bg-red-500 text-white\"\r\n            }`}\r\n            initial={{ opacity: 0, y: -32 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            exit={{ opacity: 0, y: -32 }}\r\n          >\r\n            {notify.msg}\r\n          </motion.div>\r\n        )}\r\n      </AnimatePresence>\r\n\r\n      {/* HEADER */}\r\n      <header className={`sticky top-0 z-50 w-full py-5 px-4 flex items-center gap-4 bg-gradient-to-r ${dark ? \"from-violet-800 via-violet-700 to-violet-500\" : \"from-violet-100 via-white to-violet-50\"} shadow`}>\r\n        <h1 className={`font-bold text-2xl ${dark ? \"text-white\" : \"text-violet-700\"}`}>ðŸ“° Feed comunidad</h1>\r\n        <button\r\n          onClick={() => setDark((d) => !d)}\r\n          className={`ml-auto w-9 h-9 rounded-full flex items-center justify-center ${dark ? \"bg-white\" : \"bg-violet-200\"} transition-all shadow hover:scale-110`}\r\n          title=\"Modo claro/oscuro\"\r\n        >\r\n          {dark ? (\r\n            <svg className=\"w-6 h-6 text-violet-800\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" viewBox=\"0 0 24 24\">\r\n              <path d=\"M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z\" />\r\n            </svg>\r\n          ) : (\r\n            <svg className=\"w-6 h-6 text-violet-600\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" viewBox=\"0 0 24 24\">\r\n              <circle cx=\"12\" cy=\"12\" r=\"5\" />\r\n              <path d=\"M12 1v2m0 18v2m8.66-13.66l-1.41 1.41M4.93 19.07l-1.41 1.41M21 12h-2M5 12H3m2.93-7.07l1.41 1.41M19.07 19.07l1.41 1.41\" />\r\n            </svg>\r\n          )}\r\n        </button>\r\n        <button\r\n          className=\"ml-4 text-red-500 hover:underline font-semibold\"\r\n          onClick={() => {\r\n            localStorage.clear();\r\n            window.location.href = \"/login\";\r\n          }}\r\n        >\r\n          Salir\r\n        </button>\r\n      </header>\r\n\r\n      {/* COMPOSER */}\r\n      <section className=\"max-w-xl mx-auto mt-8 mb-3 p-4 bg-white/90 rounded-2xl shadow-md flex items-start gap-3\">\r\n        <img\r\n          src={usuario.avatar ? `http://localhost:8081${usuario.avatar}` : DEFAULT_AVATAR}\r\n          className=\"w-12 h-12 rounded-full border-2 border-violet-200 object-cover\"\r\n          alt=\"avatar\"\r\n        />\r\n        <div className=\"flex-1\">\r\n          <textarea\r\n            ref={inputRef}\r\n            value={mensaje}\r\n            onChange={e => setMensaje(e.target.value)}\r\n            placeholder=\"Â¿QuÃ© quieres compartir hoy?\"\r\n            className={`w-full px-4 py-2 rounded-xl border outline-none transition shadow-md ${dark ? \"bg-[#24243c] text-white border-violet-700\" : \"bg-white border-violet-200\"} focus:ring-2 focus:ring-violet-300 resize-none`}\r\n            rows={2}\r\n            maxLength={350}\r\n            disabled={publicando}\r\n          />\r\n          <div className=\"flex items-center gap-2 mt-2\">\r\n            <label className=\"text-xs text-violet-700 cursor-pointer\">\r\n              <input\r\n                type=\"file\"\r\n                accept=\"image/*\"\r\n                className=\"hidden\"\r\n                onChange={e => setImagen(e.target.files[0])}\r\n                disabled={publicando}\r\n              />\r\n              ðŸ“Ž Adjuntar imagen\r\n            </label>\r\n            {imagen && (\r\n              <span className=\"text-xs text-green-700\">{imagen.name}</span>\r\n            )}\r\n            <button\r\n              className=\"px-4 py-1 bg-violet-500 text-white rounded-xl font-semibold shadow hover:bg-violet-700 transition\"\r\n              disabled={publicando}\r\n              onClick={handlePublicar}\r\n            >\r\n              {publicando ? \"Publicando...\" : \"Publicar\"}\r\n            </button>\r\n            {errorMsg && <span className=\"text-red-500 text-xs\">{errorMsg}</span>}\r\n          </div>\r\n        </div>\r\n      </section>\r\n\r\n      {/* FEED */}\r\n      <section ref={feedRef} className=\"max-w-2xl mx-auto\">\r\n        <AnimatePresence>\r\n          {feed.length === 0 && (\r\n            <motion.div\r\n              initial={{ opacity: 0, y: 12 }}\r\n              animate={{ opacity: 1, y: 0 }}\r\n              exit={{ opacity: 0, y: 12 }}\r\n              className=\"text-center py-12 text-gray-400 font-semibold\"\r\n            >\r\n              No hay publicaciones aÃºn. Â¡SÃ© el primero en compartir algo!\r\n            </motion.div>\r\n          )}\r\n          {feed.map((item, i) => (\r\n            <FeedItem\r\n              key={item.id || i}\r\n              item={item}\r\n              dark={dark}\r\n              usuario={usuario}\r\n              onComment={() => setOpenComments(item.id)}\r\n              onNotify={showNotify}\r\n            />\r\n          ))}\r\n        </AnimatePresence>\r\n        {isFetchingMore && (\r\n          <div className=\"flex justify-center py-4\">\r\n            <Loader />\r\n          </div>\r\n        )}\r\n        {!hasMore && (\r\n          <div className=\"text-center text-gray-400 text-xs py-5\">No hay mÃ¡s publicaciones.</div>\r\n        )}\r\n      </section>\r\n\r\n      {/* MODAL DE COMENTARIOS */}\r\n      <AnimatePresence>\r\n        {openComments && (\r\n          <CommentModal\r\n            feedId={openComments}\r\n            onClose={() => setOpenComments(null)}\r\n            usuario={usuario}\r\n            dark={dark}\r\n            onNotify={showNotify}\r\n          />\r\n        )}\r\n      </AnimatePresence>\r\n\r\n      {/* Barra de navegaciÃ³n inferior */}\r\n      <nav className={`fixed bottom-0 left-0 w-full z-40 shadow-lg ${dark ? \"bg-[#23243a] border-t border-violet-900\" : \"bg-white\"}`}>\r\n        <div className=\"flex items-center justify-between max-w-2xl mx-auto px-2 py-1\">\r\n          {[\r\n            { name: \"Inicio\", icon: \"ðŸ \", path: \"/inicio\" },\r\n            { name: \"Feed\", icon: \"ðŸ“°\", path: \"/feed\" },\r\n            { name: \"Portafolio\", icon: \"ðŸ’¼\", path: \"/portafolio\" },\r\n            { name: \"Mensajes\", icon: \"ðŸ’¬\", path: \"/mensajes\" },\r\n            { name: \"Perfil\", icon: \"ðŸ‘¤\", path: \"/perfil\" },\r\n          ].map(l => (\r\n            <a\r\n              href={l.path}\r\n              className=\"flex flex-col items-center justify-center flex-1 py-2 hover:bg-violet-50 transition rounded-xl\"\r\n              key={l.name}\r\n            >\r\n              <span className=\"text-xl\">{l.icon}</span>\r\n              <span className={`text-xs ${dark ? \"text-white\" : \"text-violet-700\"}`}>{l.name}</span>\r\n            </a>\r\n          ))}\r\n        </div>\r\n      </nav>\r\n    </div>\r\n  );\r\n};\r\n\r\n// ------ COMPONENTES SECUNDARIOS ------\r\n\r\nfunction FeedItem({ item, dark, usuario, onComment, onNotify }) {\r\n  const [likes, setLikes] = useState(item.likes || 0);\r\n  const [liked, setLiked] = useState(false);\r\n  const [loadingLikes, setLoadingLikes] = useState(false);\r\n\r\n  useEffect(() => {\r\n    fetchLikes(item.id).then(l => setLikes(l.count || l.length || 0));\r\n    // Opcional: determina si el usuario ya dio like (requiere backend)\r\n  }, [item.id]);\r\n\r\n  const handleLike = async () => {\r\n    setLoadingLikes(true);\r\n    try {\r\n      await likePost(item.id);\r\n      setLikes(l => l + 1);\r\n      setLiked(true);\r\n      onNotify(\"Â¡Te gustÃ³ la publicaciÃ³n!\");\r\n    } catch {\r\n      onNotify(\"Error al dar like\", false);\r\n    } finally {\r\n      setLoadingLikes(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <motion.div\r\n      initial={{ opacity: 0, scale: 0.97, y: 16 }}\r\n      animate={{ opacity: 1, scale: 1, y: 0 }}\r\n      exit={{ opacity: 0, scale: 0.97, y: 16 }}\r\n      transition={{ duration: 0.17 }}\r\n      className={`bg-white/90 rounded-2xl shadow-md p-4 flex gap-4 items-start mb-5 border border-violet-50 relative hover:shadow-lg transition`}\r\n    >\r\n      <img\r\n        src={item.avatar ? `http://localhost:8081${item.avatar}` : DEFAULT_AVATAR}\r\n        className=\"w-10 h-10 rounded-full border-2 border-violet-200 object-cover\"\r\n        alt=\"avatar-feed\"\r\n      />\r\n      <div className=\"flex-1\">\r\n        <div className=\"flex items-center gap-2\">\r\n          <span className={`font-bold text-violet-700 text-md ${dark ? \"text-violet-300\" : \"\"}`}>\r\n            {item.username}\r\n          </span>\r\n          <span className=\"ml-2 text-xs text-gray-400\">{item.tiempo}</span>\r\n        </div>\r\n        <div className={`text-sm mt-1 mb-2 ${dark ? \"text-violet-100\" : \"text-gray-700\"}`}>\r\n          {item.mensaje}\r\n        </div>\r\n        {item.imagen && (\r\n          <img\r\n            src={`http://localhost:8081${item.imagen}`}\r\n            alt=\"media\"\r\n            className=\"mt-2 mb-1 max-w-xs rounded-lg shadow-lg\"\r\n          />\r\n        )}\r\n        <div className=\"flex gap-3 mt-2 text-xs\">\r\n          <button\r\n            className={`px-2 py-1 rounded-lg font-semibold hover:bg-violet-200 transition ${\r\n              liked ? \"bg-violet-500 text-white\" : \"bg-violet-100 text-violet-800\"\r\n            }`}\r\n            onClick={handleLike}\r\n            disabled={loadingLikes || liked}\r\n          >\r\n            {liked ? \"Liked\" : \"Like\"} {likes > 0 && `Â· ${likes}`}\r\n          </button>\r\n          <button\r\n            className=\"px-2 py-1 rounded-lg bg-violet-100 text-violet-800 font-semibold hover:bg-violet-200\"\r\n            onClick={onComment}\r\n          >\r\n            Comentar\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </motion.div>\r\n  );\r\n}\r\n\r\nfunction CommentModal({ feedId, onClose, usuario, dark, onNotify }) {\r\n  const [comments, setComments] = useState([]);\r\n  const [cargando, setCargando] = useState(true);\r\n  const [comment, setComment] = useState(\"\");\r\n  const [publicando, setPublicando] = useState(false);\r\n\r\n  useEffect(() => {\r\n    setCargando(true);\r\n    fetchComments(feedId)\r\n      .then(setComments)\r\n      .finally(() => setCargando(false));\r\n  }, [feedId]);\r\n\r\n  const handleComment = async () => {\r\n    if (!comment.trim()) return;\r\n    setPublicando(true);\r\n    try {\r\n      await postComment(feedId, comment, usuario);\r\n      setComment(\"\");\r\n      onNotify(\"Â¡Comentario publicado!\");\r\n      const c = await fetchComments(feedId);\r\n      setComments(c);\r\n    } catch {\r\n      onNotify(\"Error al comentar\", false);\r\n    } finally {\r\n      setPublicando(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <motion.div\r\n      className=\"fixed inset-0 z-50 flex items-center justify-center bg-black/40\"\r\n      initial={{ opacity: 0 }}\r\n      animate={{ opacity: 1 }}\r\n      exit={{ opacity: 0 }}\r\n    >\r\n      <motion.div\r\n        className={`max-w-lg w-full bg-white rounded-3xl shadow-xl p-7 relative ${dark ? \"bg-[#1a1430] text-white\" : \"\"}`}\r\n        initial={{ scale: 0.9, y: 80 }}\r\n        animate={{ scale: 1, y: 0 }}\r\n        exit={{ scale: 0.9, y: 80 }}\r\n      >\r\n        <button\r\n          className=\"absolute top-3 right-4 text-violet-400 hover:text-violet-800 font-bold text-lg\"\r\n          onClick={onClose}\r\n        >âœ•</button>\r\n        <h3 className=\"font-bold text-xl mb-3\">Comentarios</h3>\r\n        {cargando ? (\r\n          <Loader />\r\n        ) : (\r\n          <div className=\"max-h-72 overflow-y-auto flex flex-col gap-3\">\r\n            {comments.length === 0 && (\r\n              <div className=\"text-gray-400 text-sm\">Sin comentarios aÃºn.</div>\r\n            )}\r\n            {comments.map((com, i) => (\r\n              <div key={com.id || i} className=\"flex items-start gap-2\">\r\n                <img\r\n                  src={com.avatar ? `http://localhost:8081${com.avatar}` : DEFAULT_AVATAR}\r\n                  className=\"w-9 h-9 rounded-full border-2 border-violet-200 object-cover\"\r\n                  alt=\"avatar-com\"\r\n                />\r\n                <div>\r\n                  <div className=\"font-bold text-violet-700 text-xs\">{com.username}</div>\r\n                  <div className=\"text-xs\">{com.comment}</div>\r\n                  <div className=\"text-[10px] text-gray-400\">{com.tiempo}</div>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        )}\r\n        <div className=\"mt-3 flex gap-2\">\r\n          <input\r\n            type=\"text\"\r\n            className={`flex-1 px-4 py-2 rounded-xl border ${dark ? \"bg-[#251f39] text-white border-violet-800\" : \"bg-white border-violet-200\"} outline-none shadow`}\r\n            placeholder=\"Escribe un comentario...\"\r\n            value={comment}\r\n            onChange={e => setComment(e.target.value)}\r\n            disabled={publicando}\r\n            maxLength={200}\r\n            onKeyDown={e => e.key === \"Enter\" && handleComment()}\r\n          />\r\n          <button\r\n            className=\"px-3 py-1 rounded-xl bg-violet-500 text-white font-semibold shadow hover:bg-violet-700\"\r\n            disabled={publicando}\r\n            onClick={handleComment}\r\n          >\r\n            {publicando ? \"...\" : \"Enviar\"}\r\n          </button>\r\n        </div>\r\n      </motion.div>\r\n    </motion.div>\r\n  );\r\n}\r\n\r\nexport default Feed;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}